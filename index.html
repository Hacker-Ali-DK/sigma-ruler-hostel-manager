<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sigma-Ruler Hostel Manager</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --primary-blue: #1e3a8a;
            --dark-blue: #1e40af;
            --light-blue: #3b82f6;
            --accent-blue: #60a5fa;
            --text-light: #f8fafc;
            --text-dark: #1e293b;
            --bg-light: #f1f5f9;
            --card-bg: #ffffff;
            --success: #10b981;
            --warning: #f59e0b;
            --danger: #ef4444;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background: linear-gradient(135deg, var(--primary-blue) 0%, var(--dark-blue) 100%);
            color: var(--text-light);
            min-height: 100vh;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        /* Header Styles */
        header {
            text-align: center;
            padding: 30px 0;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 15px;
            margin-bottom: 30px;
            backdrop-filter: blur(10px);
        }

        .logo {
            font-size: 3rem;
            margin-bottom: 10px;
        }

        header h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
        }

        header p {
            font-size: 1.2rem;
            opacity: 0.9;
        }

        /* Dashboard Grid */
        .dashboard {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 25px;
            margin-bottom: 40px;
        }

        .dashboard-card {
            background: var(--card-bg);
            color: var(--text-dark);
            border-radius: 15px;
            padding: 25px;
            text-align: center;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.2);
            transition: transform 0.3s, box-shadow 0.3s;
            cursor: pointer;
            border: 2px solid transparent;
        }

        .dashboard-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 30px rgba(0, 0, 0, 0.3);
            border-color: var(--accent-blue);
        }

        .card-icon {
            font-size: 3rem;
            margin-bottom: 15px;
            color: var(--primary-blue);
        }

        .dashboard-card h2 {
            margin-bottom: 10px;
            color: var(--primary-blue);
        }

        /* Module Sections */
        .module {
            display: none;
            background: var(--card-bg);
            color: var(--text-dark);
            border-radius: 15px;
            padding: 30px;
            margin-bottom: 30px;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.2);
        }

        .module.active {
            display: block;
        }

        .module-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 25px;
            padding-bottom: 15px;
            border-bottom: 2px solid var(--light-blue);
        }

        .module-header h2 {
            color: var(--primary-blue);
        }

        .back-btn {
            background: var(--light-blue);
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 600;
            transition: background 0.3s;
        }

        .back-btn:hover {
            background: var(--dark-blue);
        }

        /* Form Styles */
        .form-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .form-group {
            margin-bottom: 20px;
        }

        label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: var(--primary-blue);
        }

        input, select, textarea {
            width: 100%;
            padding: 12px;
            border: 2px solid #e2e8f0;
            border-radius: 8px;
            font-size: 16px;
            transition: border-color 0.3s;
        }

        input:focus, select:focus, textarea:focus {
            outline: none;
            border-color: var(--light-blue);
        }

        .btn {
            background: var(--light-blue);
            color: white;
            border: none;
            padding: 12px 25px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 16px;
            font-weight: 600;
            transition: background 0.3s;
        }

        .btn:hover {
            background: var(--dark-blue);
        }

        .btn-danger {
            background: var(--danger);
        }

        .btn-danger:hover {
            background: #dc2626;
        }

        /* Data Display */
        .data-section {
            margin-top: 30px;
        }

        .data-grid {
            display: grid;
            gap: 15px;
        }

        .data-card {
            background: var(--bg-light);
            padding: 20px;
            border-radius: 10px;
            border-left: 4px solid var(--light-blue);
        }

        .data-card.income {
            border-left-color: var(--success);
        }

        .data-card.expense {
            border-left-color: var(--danger);
        }

        .data-card.loan {
            border-left-color: var(--warning);
        }

        .data-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 10px;
        }

        .data-actions {
            display: flex;
            gap: 10px;
        }

        .action-btn {
            background: none;
            border: none;
            cursor: pointer;
            font-size: 1.2rem;
            color: var(--primary-blue);
            transition: color 0.3s;
        }

        .action-btn:hover {
            color: var(--dark-blue);
        }

        /* Summary Cards */
        .summary-cards {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .summary-card {
            background: var(--bg-light);
            padding: 20px;
            border-radius: 10px;
            text-align: center;
        }

        .summary-card h3 {
            margin-bottom: 10px;
            color: var(--primary-blue);
        }

        .summary-amount {
            font-size: 1.8rem;
            font-weight: bold;
        }

        .income-amount {
            color: var(--success);
        }

        .expense-amount {
            color: var(--danger);
        }

        .balance-amount {
            color: var(--light-blue);
        }

        /* Food Menu */
        .menu-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 20px;
        }

        .menu-item {
            background: var(--bg-light);
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }

        .menu-item img {
            width: 100%;
            height: 150px;
            object-fit: cover;
        }

        .menu-info {
            padding: 15px;
        }

        .menu-price {
            font-size: 1.2rem;
            font-weight: bold;
            color: var(--success);
            margin-top: 10px;
        }

        /* Schedule */
        .schedule-day {
            margin-bottom: 30px;
        }

        .day-header {
            background: var(--light-blue);
            color: white;
            padding: 15px;
            border-radius: 10px 10px 0 0;
            margin-bottom: 10px;
        }

        .schedule-item {
            background: var(--bg-light);
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 10px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .schedule-time {
            font-weight: bold;
            color: var(--primary-blue);
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .dashboard {
                grid-template-columns: 1fr;
            }
            
            .form-grid {
                grid-template-columns: 1fr;
            }
            
            .summary-cards {
                grid-template-columns: repeat(2, 1fr);
            }
            
            header h1 {
                font-size: 2rem;
            }
        }

        /* Utility Classes */
        .hidden {
            display: none;
        }

        .text-center {
            text-align: center;
        }

        .mt-20 {
            margin-top: 20px;
        }

        .mb-20 {
            margin-bottom: 20px;
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Welcome Dashboard -->
        <header id="welcome-header">
            <div class="logo">Î£_R</div>
            <h1>Hello, Sigma-Ruler!</h1>
            <p>Your Personal Hostel Management System</p>
        </header>

        <!-- Main Dashboard -->
        <div class="dashboard" id="main-dashboard">
            <div class="dashboard-card" data-module="finance">
                <div class="card-icon">
                    <i class="fas fa-money-bill-wave"></i>
                </div>
                <h2>Finance Manager</h2>
                <p>Track pocket money, expenses, and loans</p>
            </div>

            <div class="dashboard-card" data-module="food">
                <div class="card-icon">
                    <i class="fas fa-utensils"></i>
                </div>
                <h2>Food Menu</h2>
                <p>Hostel cafe menu with prices</p>
            </div>

            <div class="dashboard-card" data-module="study">
                <div class="card-icon">
                    <i class="fas fa-book"></i>
                </div>
                <h2>Study Schedule</h2>
                <p>Classes, assignments, and exams</p>
            </div>
        </div>

        <!-- Finance Module -->
        <div class="module" id="finance-module">
            <div class="module-header">
                <h2><i class="fas fa-money-bill-wave"></i> Finance Manager</h2>
                <button class="back-btn">Back to Dashboard</button>
            </div>

            <!-- Finance Navigation -->
            <div class="form-grid">
                <button class="btn" data-finance-tab="pocket-money">Pocket Money</button>
                <button class="btn" data-finance-tab="expenses">Expenses</button>
                <button class="btn" data-finance-tab="loans">Loans</button>
                <button class="btn" data-finance-tab="summary">Summary</button>
            </div>

            <!-- Pocket Money Form -->
            <div class="finance-section" id="pocket-money-section">
                <h3>Add Pocket Money</h3>
                <form id="pocket-money-form">
                    <div class="form-grid">
                        <div class="form-group">
                            <label for="pocket-amount">Amount</label>
                            <input type="number" id="pocket-amount" step="0.01" required>
                        </div>
                        <div class="form-group">
                            <label for="pocket-date">Date Received</label>
                            <input type="date" id="pocket-date" required>
                        </div>
                        <div class="form-group">
                            <label for="pocket-source">Source</label>
                            <input type="text" id="pocket-source" required>
                        </div>
                    </div>
                    <button type="submit" class="btn">Add Pocket Money</button>
                </form>

                <div class="data-section">
                    <h3>Pocket Money History</h3>
                    <div class="data-grid" id="pocket-money-list">
                        <!-- Pocket money entries will appear here -->
                    </div>
                </div>
            </div>

            <!-- Expenses Form -->
            <div class="finance-section hidden" id="expenses-section">
                <h3>Add Expense</h3>
                <form id="expense-form">
                    <div class="form-grid">
                        <div class="form-group">
                            <label for="expense-amount">Amount</label>
                            <input type="number" id="expense-amount" step="0.01" required>
                        </div>
                        <div class="form-group">
                            <label for="expense-date">Date</label>
                            <input type="date" id="expense-date" required>
                        </div>
                        <div class="form-group">
                            <label for="expense-category">Category</label>
                            <select id="expense-category" required>
                                <option value="food">Food</option>
                                <option value="transport">Transport</option>
                                <option value="entertainment">Entertainment</option>
                                <option value="bills">Bills</option>
                                <option value="other">Other</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="expense-description">Description</label>
                            <input type="text" id="expense-description" required>
                        </div>
                    </div>
                    <button type="submit" class="btn">Add Expense</button>
                </form>

                <div class="data-section">
                    <h3>Expense History</h3>
                    <div class="data-grid" id="expenses-list">
                        <!-- Expense entries will appear here -->
                    </div>
                </div>
            </div>

            <!-- Loans Form -->
            <div class="finance-section hidden" id="loans-section">
                <h3>Add Loan</h3>
                <form id="loan-form">
                    <div class="form-grid">
                        <div class="form-group">
                            <label for="loan-amount">Amount</label>
                            <input type="number" id="loan-amount" step="0.01" required>
                        </div>
                        <div class="form-group">
                            <label for="loan-type">Type</label>
                            <select id="loan-type" required>
                                <option value="given">Given to Someone</option>
                                <option value="taken">Taken from Someone</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="loan-person">Person</label>
                            <input type="text" id="loan-person" required>
                        </div>
                        <div class="form-group">
                            <label for="loan-date">Date</label>
                            <input type="date" id="loan-date" required>
                        </div>
                        <div class="form-group">
                            <label for="return-date">Return Date</label>
                            <input type="date" id="return-date" required>
                        </div>
                    </div>
                    <button type="submit" class="btn">Add Loan</button>
                </form>

                <div class="data-section">
                    <h3>Loan History</h3>
                    <div class="data-grid" id="loans-list">
                        <!-- Loan entries will appear here -->
                    </div>
                </div>
            </div>

            <!-- Finance Summary -->
            <div class="finance-section hidden" id="summary-section">
                <h3>Financial Summary</h3>
                <div class="summary-cards">
                    <div class="summary-card">
                        <h3>Total Pocket Money</h3>
                        <div class="summary-amount income-amount" id="total-pocket-money">$0.00</div>
                    </div>
                    <div class="summary-card">
                        <h3>Total Expenses</h3>
                        <div class="summary-amount expense-amount" id="total-expenses">$0.00</div>
                    </div>
                    <div class="summary-card">
                        <h3>Current Balance</h3>
                        <div class="summary-amount balance-amount" id="current-balance">$0.00</div>
                    </div>
                    <div class="summary-card">
                        <h3>Active Loans</h3>
                        <div class="summary-amount" id="active-loans">0</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Food Module -->
        <div class="module" id="food-module">
            <div class="module-header">
                <h2><i class="fas fa-utensils"></i> Hostel Cafe Menu</h2>
                <button class="back-btn">Back to Dashboard</button>
            </div>

            <div class="menu-grid" id="food-menu">
                <!-- Food items will be added here -->
            </div>

            <div class="mt-20">
                <h3>Add New Food Item</h3>
                <form id="food-form">
                    <div class="form-grid">
                        <div class="form-group">
                            <label for="food-name">Food Name</label>
                            <input type="text" id="food-name" required>
                        </div>
                        <div class="form-group">
                            <label for="food-price">Price</label>
                            <input type="number" id="food-price" step="0.01" required>
                        </div>
                        <div class="form-group">
                            <label for="food-category">Category</label>
                            <select id="food-category" required>
                                <option value="breakfast">Breakfast</option>
                                <option value="lunch">Lunch</option>
                                <option value="dinner">Dinner</option>
                                <option value="snacks">Snacks</option>
                                <option value="drinks">Drinks</option>
                            </select>
                        </div>
                    </div>
                    <button type="submit" class="btn">Add Food Item</button>
                </form>
            </div>
        </div>

        <!-- Study Module -->
        <div class="module" id="study-module">
            <div class="module-header">
                <h2><i class="fas fa-book"></i> Study Schedule</h2>
                <button class="back-btn">Back to Dashboard</button>
            </div>

            <!-- Study Navigation -->
            <div class="form-grid">
                <button class="btn" data-study-tab="classes">Classes</button>
                <button class="btn" data-study-tab="assignments">Assignments</button>
                <button class="btn" data-study-tab="exams">Exams</button>
            </div>

            <!-- Classes Section -->
            <div class="study-section" id="classes-section">
                <h3>Class Schedule</h3>
                <form id="class-form">
                    <div class="form-grid">
                        <div class="form-group">
                            <label for="class-name">Class Name</label>
                            <input type="text" id="class-name" required>
                        </div>
                        <div class="form-group">
                            <label for="class-day">Day</label>
                            <select id="class-day" required>
                                <option value="monday">Monday</option>
                                <option value="tuesday">Tuesday</option>
                                <option value="wednesday">Wednesday</option>
                                <option value="thursday">Thursday</option>
                                <option value="friday">Friday</option>
                                <option value="saturday">Saturday</option>
                                <option value="sunday">Sunday</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="class-time">Time</label>
                            <input type="time" id="class-time" required>
                        </div>
                        <div class="form-group">
                            <label for="class-location">Location</label>
                            <input type="text" id="class-location" required>
                        </div>
                    </div>
                    <button type="submit" class="btn">Add Class</button>
                </form>

                <div class="data-section">
                    <div id="classes-schedule">
                        <!-- Classes will be organized by day -->
                    </div>
                </div>
            </div>

            <!-- Assignments Section -->
            <div class="study-section hidden" id="assignments-section">
                <h3>Assignments</h3>
                <form id="assignment-form">
                    <div class="form-grid">
                        <div class="form-group">
                            <label for="assignment-title">Title</label>
                            <input type="text" id="assignment-title" required>
                        </div>
                        <div class="form-group">
                            <label for="assignment-subject">Subject</label>
                            <input type="text" id="assignment-subject" required>
                        </div>
                        <div class="form-group">
                            <label for="assignment-deadline">Deadline</label>
                            <input type="datetime-local" id="assignment-deadline" required>
                        </div>
                        <div class="form-group">
                            <label for="assignment-topic">Topic</label>
                            <textarea id="assignment-topic" required></textarea>
                        </div>
                    </div>
                    <button type="submit" class="btn">Add Assignment</button>
                </form>

                <div class="data-section">
                    <div class="data-grid" id="assignments-list">
                        <!-- Assignments will appear here -->
                    </div>
                </div>
            </div>

            <!-- Exams Section -->
            <div class="study-section hidden" id="exams-section">
                <h3>Exams</h3>
                <form id="exam-form">
                    <div class="form-grid">
                        <div class="form-group">
                            <label for="exam-subject">Subject</label>
                            <input type="text" id="exam-subject" required>
                        </div>
                        <div class="form-group">
                            <label for="exam-date">Date</label>
                            <input type="datetime-local" id="exam-date" required>
                        </div>
                        <div class="form-group">
                            <label for="exam-location">Location</label>
                            <input type="text" id="exam-location" required>
                        </div>
                        <div class="form-group">
                            <label for="exam-topics">Topics</label>
                            <textarea id="exam-topics" required></textarea>
                        </div>
                    </div>
                    <button type="submit" class="btn">Add Exam</button>
                </form>

                <div class="data-section">
                    <div class="data-grid" id="exams-list">
                        <!-- Exams will appear here -->
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Data structure
        let appData = {
            pocketMoney: [],
            expenses: [],
            loans: [],
            foodMenu: [],
            classes: [],
            assignments: [],
            exams: []
        };

        // Load data from localStorage
        function loadData() {
            const savedData = localStorage.getItem('sigmaRulerData');
            if (savedData) {
                appData = JSON.parse(savedData);
            } else {
                // Initialize with sample data
                initializeSampleData();
            }
            updateAllDisplays();
        }

        // Initialize with sample data
        function initializeSampleData() {
            appData.foodMenu = [
                { id: 1, name: "Chicken Biryani", price: 120, category: "lunch" },
                { id: 2, name: "Chicken Karahi", price: 150, category: "dinner" },
                { id: 3, name: "Chai", price: 20, category: "drinks" },
                { id: 4, name: "Paratha", price: 30, category: "breakfast" },
                { id: 5, name: "Samosa", price: 25, category: "snacks" }
            ];

            appData.classes = [
                { id: 1, name: "Data Structures", day: "monday", time: "09:00", location: "CS-101" },
                { id: 2, name: "Database Systems", day: "tuesday", time: "11:00", location: "CS-102" },
                { id: 3, name: "Web Development", day: "wednesday", time: "14:00", location: "Lab-3" }
            ];

            saveData();
        }

        // Save data to localStorage
        function saveData() {
            localStorage.setItem('sigmaRulerData', JSON.stringify(appData));
        }

        // Navigation between modules
        document.querySelectorAll('.dashboard-card').forEach(card => {
            card.addEventListener('click', function() {
                const module = this.getAttribute('data-module');
                showModule(module);
            });
        });

        document.querySelectorAll('.back-btn').forEach(btn => {
            btn.addEventListener('click', function() {
                showDashboard();
            });
        });

        function showDashboard() {
            document.getElementById('main-dashboard').style.display = 'grid';
            document.querySelectorAll('.module').forEach(module => {
                module.classList.remove('active');
            });
        }

        function showModule(moduleName) {
            document.getElementById('main-dashboard').style.display = 'none';
            document.querySelectorAll('.module').forEach(module => {
                module.classList.remove('active');
            });
            document.getElementById(`${moduleName}-module`).classList.add('active');
        }

        // Finance Module Navigation
        document.querySelectorAll('[data-finance-tab]').forEach(btn => {
            btn.addEventListener('click', function() {
                const tab = this.getAttribute('data-finance-tab');
                showFinanceTab(tab);
            });
        });

        function showFinanceTab(tabName) {
            document.querySelectorAll('.finance-section').forEach(section => {
                section.classList.add('hidden');
            });
            document.getElementById(`${tabName}-section`).classList.remove('hidden');
        }

        // Study Module Navigation
        document.querySelectorAll('[data-study-tab]').forEach(btn => {
            btn.addEventListener('click', function() {
                const tab = this.getAttribute('data-study-tab');
                showStudyTab(tab);
            });
        });

        function showStudyTab(tabName) {
            document.querySelectorAll('.study-section').forEach(section => {
                section.classList.add('hidden');
            });
            document.getElementById(`${tabName}-section`).classList.remove('hidden');
        }

        // Pocket Money Form
        document.getElementById('pocket-money-form').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const pocketMoney = {
                id: Date.now(),
                amount: parseFloat(document.getElementById('pocket-amount').value),
                date: document.getElementById('pocket-date').value,
                source: document.getElementById('pocket-source').value
            };
            
            appData.pocketMoney.push(pocketMoney);
            saveData();
            updateFinanceDisplays();
            this.reset();
            
            alert('Pocket money added successfully!');
        });

        // Expense Form
        document.getElementById('expense-form').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const expense = {
                id: Date.now(),
                amount: parseFloat(document.getElementById('expense-amount').value),
                date: document.getElementById('expense-date').value,
                category: document.getElementById('expense-category').value,
                description: document.getElementById('expense-description').value
            };
            
            appData.expenses.push(expense);
            saveData();
            updateFinanceDisplays();
            this.reset();
            
            alert('Expense added successfully!');
        });

        // Loan Form
        document.getElementById('loan-form').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const loan = {
                id: Date.now(),
                amount: parseFloat(document.getElementById('loan-amount').value),
                type: document.getElementById('loan-type').value,
                person: document.getElementById('loan-person').value,
                date: document.getElementById('loan-date').value,
                returnDate: document.getElementById('return-date').value
            };
            
            appData.loans.push(loan);
            saveData();
            updateFinanceDisplays();
            this.reset();
            
            alert('Loan added successfully!');
        });

        // Food Form
        document.getElementById('food-form').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const foodItem = {
                id: Date.now(),
                name: document.getElementById('food-name').value,
                price: parseFloat(document.getElementById('food-price').value),
                category: document.getElementById('food-category').value
            };
            
            appData.foodMenu.push(foodItem);
            saveData();
            updateFoodDisplay();
            this.reset();
            
            alert('Food item added successfully!');
        });

        // Class Form
        document.getElementById('class-form').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const classItem = {
                id: Date.now(),
                name: document.getElementById('class-name').value,
                day: document.getElementById('class-day').value,
                time: document.getElementById('class-time').value,
                location: document.getElementById('class-location').value
            };
            
            appData.classes.push(classItem);
            saveData();
            updateStudyDisplays();
            this.reset();
            
            alert('Class added successfully!');
        });

        // Assignment Form
        document.getElementById('assignment-form').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const assignment = {
                id: Date.now(),
                title: document.getElementById('assignment-title').value,
                subject: document.getElementById('assignment-subject').value,
                deadline: document.getElementById('assignment-deadline').value,
                topic: document.getElementById('assignment-topic').value
            };
            
            appData.assignments.push(assignment);
            saveData();
            updateStudyDisplays();
            this.reset();
            
            alert('Assignment added successfully!');
        });

        // Exam Form
        document.getElementById('exam-form').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const exam = {
                id: Date.now(),
                subject: document.getElementById('exam-subject').value,
                date: document.getElementById('exam-date').value,
                location: document.getElementById('exam-location').value,
                topics: document.getElementById('exam-topics').value
            };
            
            appData.exams.push(exam);
            saveData();
            updateStudyDisplays();
            this.reset();
            
            alert('Exam added successfully!');
        });

        // Update all displays
        function updateAllDisplays() {
            updateFinanceDisplays();
            updateFoodDisplay();
            updateStudyDisplays();
        }

        // Update finance displays
        function updateFinanceDisplays() {
            // Update pocket money list
            const pocketMoneyList = document.getElementById('pocket-money-list');
            pocketMoneyList.innerHTML = '';
            
            appData.pocketMoney.forEach(item => {
                const card = document.createElement('div');
                card.className = 'data-card income';
                card.innerHTML = `
                    <div class="data-header">
                        <h4>${item.source}</h4>
                        <div class="data-actions">
                            <button class="action-btn delete-pocket" data-id="${item.id}">
                                <i class="fas fa-trash"></i>
                            </button>
                        </div>
                    </div>
                    <p>Amount: $${item.amount.toFixed(2)}</p>
                    <p>Date: ${new Date(item.date).toLocaleDateString()}</p>
                `;
                pocketMoneyList.appendChild(card);
            });

            // Update expenses list
            const expensesList = document.getElementById('expenses-list');
            expensesList.innerHTML = '';
            
            appData.expenses.forEach(item => {
                const card = document.createElement('div');
                card.className = 'data-card expense';
                card.innerHTML = `
                    <div class="data-header">
                        <h4>${item.description}</h4>
                        <div class="data-actions">
                            <button class="action-btn delete-expense" data-id="${item.id}">
                                <i class="fas fa-trash"></i>
                            </button>
                        </div>
                    </div>
                    <p>Amount: $${item.amount.toFixed(2)}</p>
                    <p>Category: ${item.category}</p>
                    <p>Date: ${new Date(item.date).toLocaleDateString()}</p>
                `;
                expensesList.appendChild(card);
            });

            // Update loans list
            const loansList = document.getElementById('loans-list');
            loansList.innerHTML = '';
            
            appData.loans.forEach(item => {
                const card = document.createElement('div');
                card.className = 'data-card loan';
                card.innerHTML = `
                    <div class="data-header">
                        <h4>${item.type === 'given' ? 'Given to' : 'Taken from'} ${item.person}</h4>
                        <div class="data-actions">
                            <button class="action-btn delete-loan" data-id="${item.id}">
                                <i class="fas fa-trash"></i>
                            </button>
                        </div>
                    </div>
                    <p>Amount: $${item.amount.toFixed(2)}</p>
                    <p>Date: ${new Date(item.date).toLocaleDateString()}</p>
                    <p>Return Date: ${new Date(item.returnDate).toLocaleDateString()}</p>
                `;
                loansList.appendChild(card);
            });

            // Update summary
            const totalPocketMoney = appData.pocketMoney.reduce((sum, item) => sum + item.amount, 0);
            const totalExpenses = appData.expenses.reduce((sum, item) => sum + item.amount, 0);
            const currentBalance = totalPocketMoney - totalExpenses;
            const activeLoans = appData.loans.length;

            document.getElementById('total-pocket-money').textContent = `$${totalPocketMoney.toFixed(2)}`;
            document.getElementById('total-expenses').textContent = `$${totalExpenses.toFixed(2)}`;
            document.getElementById('current-balance').textContent = `$${currentBalance.toFixed(2)}`;
            document.getElementById('active-loans').textContent = activeLoans;

            // Add delete event listeners
            document.querySelectorAll('.delete-pocket').forEach(btn => {
                btn.addEventListener('click', function() {
                    const id = parseInt(this.getAttribute('data-id'));
                    deletePocketMoney(id);
                });
            });

            document.querySelectorAll('.delete-expense').forEach(btn => {
                btn.addEventListener('click', function() {
                    const id = parseInt(this.getAttribute('data-id'));
                    deleteExpense(id);
                });
            });

            document.querySelectorAll('.delete-loan').forEach(btn => {
                btn.addEventListener('click', function() {
                    const id = parseInt(this.getAttribute('data-id'));
                    deleteLoan(id);
                });
            });
        }

        // Update food display
        function updateFoodDisplay() {
            const foodMenu = document.getElementById('food-menu');
            foodMenu.innerHTML = '';
            
            appData.foodMenu.forEach(item => {
                const menuItem = document.createElement('div');
                menuItem.className = 'menu-item';
                menuItem.innerHTML = `
                    <div class="menu-info">
                        <h4>${item.name}</h4>
                        <p>${item.category.charAt(0).toUpperCase() + item.category.slice(1)}</p>
                        <div class="menu-price">Rs. ${item.price.toFixed(2)}</div>
                    </div>
                `;
                foodMenu.appendChild(menuItem);
            });
        }

        // Update study displays
        function updateStudyDisplays() {
            // Update classes schedule
            const classesSchedule = document.getElementById('classes-schedule');
            classesSchedule.innerHTML = '';
            
            const days = ['monday', 'tuesday', 'wednesday', 'thursday', 'friday', 'saturday', 'sunday'];
            
            days.forEach(day => {
                const dayClasses = appData.classes.filter(cls => cls.day === day);
                if (dayClasses.length > 0) {
                    const daySection = document.createElement('div');
                    daySection.className = 'schedule-day';
                    daySection.innerHTML = `
                        <div class="day-header">
                            <h3>${day.charAt(0).toUpperCase() + day.slice(1)}</h3>
                        </div>
                    `;
                    
                    dayClasses.forEach(cls => {
                        const classItem = document.createElement('div');
                        classItem.className = 'schedule-item';
                        classItem.innerHTML = `
                            <div>
                                <h4>${cls.name}</h4>
                                <p>${cls.location}</p>
                            </div>
                            <div class="schedule-time">${cls.time}</div>
                        `;
                        daySection.appendChild(classItem);
                    });
                    
                    classesSchedule.appendChild(daySection);
                }
            });

            // Update assignments list
            const assignmentsList = document.getElementById('assignments-list');
            assignmentsList.innerHTML = '';
            
            appData.assignments.forEach(item => {
                const card = document.createElement('div');
                card.className = 'data-card';
                card.innerHTML = `
                    <div class="data-header">
                        <h4>${item.title}</h4>
                        <div class="data-actions">
                            <button class="action-btn delete-assignment" data-id="${item.id}">
                                <i class="fas fa-trash"></i>
                            </button>
                        </div>
                    </div>
                    <p>Subject: ${item.subject}</p>
                    <p>Topic: ${item.topic}</p>
                    <p>Deadline: ${new Date(item.deadline).toLocaleString()}</p>
                `;
                assignmentsList.appendChild(card);
            });

            // Update exams list
            const examsList = document.getElementById('exams-list');
            examsList.innerHTML = '';
            
            appData.exams.forEach(item => {
                const card = document.createElement('div');
                card.className = 'data-card';
                card.innerHTML = `
                    <div class="data-header">
                        <h4>${item.subject}</h4>
                        <div class="data-actions">
                            <button class="action-btn delete-exam" data-id="${item.id}">
                                <i class="fas fa-trash"></i>
                            </button>
                        </div>
                    </div>
                    <p>Date: ${new Date(item.date).toLocaleString()}</p>
                    <p>Location: ${item.location}</p>
                    <p>Topics: ${item.topics}</p>
                `;
                examsList.appendChild(card);
            });

            // Add delete event listeners for study items
            document.querySelectorAll('.delete-assignment').forEach(btn => {
                btn.addEventListener('click', function() {
                    const id = parseInt(this.getAttribute('data-id'));
                    deleteAssignment(id);
                });
            });

            document.querySelectorAll('.delete-exam').forEach(btn => {
                btn.addEventListener('click', function() {
                    const id = parseInt(this.getAttribute('data-id'));
                    deleteExam(id);
                });
            });
        }

        // Delete functions
        function deletePocketMoney(id) {
            if (confirm('Are you sure you want to delete this pocket money entry?')) {
                appData.pocketMoney = appData.pocketMoney.filter(item => item.id !== id);
                saveData();
                updateFinanceDisplays();
            }
        }

        function deleteExpense(id) {
            if (confirm('Are you sure you want to delete this expense?')) {
                appData.expenses = appData.expenses.filter(item => item.id !== id);
                saveData();
                updateFinanceDisplays();
            }
        }

        function deleteLoan(id) {
            if (confirm('Are you sure you want to delete this loan?')) {
                appData.loans = appData.loans.filter(item => item.id !== id);
                saveData();
                updateFinanceDisplays();
            }
        }

        function deleteAssignment(id) {
            if (confirm('Are you sure you want to delete this assignment?')) {
                appData.assignments = appData.assignments.filter(item => item.id !== id);
                saveData();
                updateStudyDisplays();
            }
        }

        function deleteExam(id) {
            if (confirm('Are you sure you want to delete this exam?')) {
                appData.exams = appData.exams.filter(item => item.id !== id);
                saveData();
                updateStudyDisplays();
            }
        }

        // Initialize the app
        document.addEventListener('DOMContentLoaded', function() {
            loadData();
            showFinanceTab('pocket-money');
            showStudyTab('classes');
        });
    </script>
</body>
</html>
